<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.canvus.app.drawing.mapper.JoinListMapper">

<insert id="addUser" parameterType="drawingUser">
	INSERT INTO JOIN_LIST(
	    JOINLIST_ID
	    ,USER_ID
	    ,ROOM_ID
	    ,USER_TYPE
	) VALUES (
	    JOINLIST_SEQ.nextval
	    ,#{user_id}
	    ,#{room_Id}
	    ,#{user_type}
	)
</insert>

<select id="getUserList" parameterType="string" resultType="drawingUser">
	SELECT
	    JOINLIST_ID
	    ,USER_ID
	    ,ROOM_ID
	    ,USER_TYPE
	FROM
    	JOIN_LIST
	WHERE
    	ROOM_ID = #{roomId}
</select>

<select id="getUserCount" parameterType="string" resultType="int">
	SELECT
		COUNT(*)
	FROM
		JOIN_LIST
	WHERE
		ROOM_ID = #{string}
</select>
</mapper>